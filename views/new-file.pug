html
  head
    title DTD-New
    link(rel="stylesheet",type="text/css",href="/peripheral-style1.css")
    link#dtd-style(rel="stylesheet",type="text/css",href="/dtd-style1.css")
    style#base-style

  body#body
    if info
      each x,i in info
        p= x
    if errors
      each x,i in errors
        p= x

    #preview-layout
      #dtd-holder
        h1#overall-heading sample-heading
        #control-bar
        #board
    
    #actual-page  
      h1.centered-bar-heading And so the journey begins... with breath as deep as your eyes can see and eyes as wide as the horizon, the legs beginning to realize the weight on their shoulders as the lips begin to bend.
      
      form.two-column-form(action = "/new-file", method="POST")
        label.two-column-form-label Name
        input.two-column-form-input#name(type="text",name="name")
          
        label.two-column-form-label grid rows
        input.two-column-form-input#grid-rows(type="number",name="grid-rows")
          
        label.two-column-form-label grid columns
        input.two-column-form-input#grid-columns(type="number",name="grid-columns")
          
        button.two-column-form-submit-button(type="submit") ~~let's go!!~~
      
      button.full-width-button(onclick="preview()") preview
        
  script.
    function preview(){
      //This will probably be replaced by a request to the server later
      numrows = document.getElementById("grid-rows").value;
      numcols = document.getElementById("grid-columns").value;
      cellsHTML = "";
      for(var i = 0; i < numrows*numcols; i++){
        cellsHTML += "<div class='dtd-cell'></div>"
      }
      document.getElementById("board").innerHTML = cellsHTML;
      document.getElementById("overall-heading").innerHTML = document.getElementById("name").value || "sample heading";
      document.getElementById("base-style").innerHTML = 
      `#board{
        grid-template-rows: repeat(${numrows}, auto);
        grid-template-columns: repeat(${numcols}, auto);
      }`
      document.getElementById("preview-layout").style.display = "block";
      document.getElementById("actual-page").style.display = "none";
      window.alert("hit escape to return to the menu");
    }
    
    window.addEventListener("keydown",function(e){
      if(e.key == "Escape" || e.key == "Esc"){
        document.getElementById("preview-layout").style.display = "none";
        document.getElementById("actual-page").style.display = "block";
      }
    })
